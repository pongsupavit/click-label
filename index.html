<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Click Label Generator | E248-A4 สติกเกอร์ 248 ดวง</title>
  <meta name="description"
    content="สร้างสติกเกอร์ Click Label E248 อัตโนมัติ ลดความผิดพลาด พิมพ์ได้ทันที รองรับ MFD EXP LOT">

  <!-- Bootstrap CSS (CDN) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Configured Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="../shared/sidebar.css" />
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Custom styles override Bootstrap -->
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="print.css" />
  <script src="../shared/sidebar.js" defer></script>
</head>

<body>
  <div class="app-layout">
    <div id="app-sidebar"></div>
    <main class="app-main app-main--flush">
      <!-- Full Width Sticky Header -->
      <div id="pageHeader" class="sticky-top py-2 shadow-sm border-bottom"
        style="background-color: #343a40; z-index: 1020;">
        <div class="container px-4 d-flex align-items-center">
          <!-- Left Side: Title -->
          <div>
            <h1 class="h5 mb-0 fw-bold text-white d-flex align-items-center gap-2">
              <i class="bi bi-grid-3x3-gap-fill"></i> Click Label Generator
            </h1>
            <div class="text-white-50" style="font-size: 0.7rem;">E248-A4 • 248 ดวง (8×31) • ลดความผิดพลาด พิมพ์ได้ทันที
            </div>
          </div>

          <!-- Right Side: Actions + Links -->
          <div class="ms-auto d-flex align-items-center gap-2 header-actions">
            <button id="printBtn" class="btn d-flex align-items-center gap-2">
              <i class="bi bi-printer-fill"></i> <span>พิมพ์</span>
            </button>
            <button id="downloadPdfBtn" class="btn d-flex align-items-center gap-2">
              <i class="bi bi-file-earmark-pdf-fill"></i> <span>PDF</span>
            </button>
          </div>
        </div>
      </div>

      <div class="container py-4 app-container">

        <div class="row g-4">
          <!-- Sidebar: Controls -->
          <div class="col-lg-4 col-xl-3 sticky-sidebar">
            <div class="card mb-4" id="controlsCard">
              <div class="card-body">
                <!-- Single Sticker Preview -->
                <div class="mb-3 pt-2">
                  <label class="form-label small text-muted text-uppercase mb-2 d-block text-center"
                    style="font-size: 0.7rem; letter-spacing: 1px;">Preview (Actual Size)</label>
                  <div class="single-preview-container" id="singlePreviewContainer">
                    <div id="singlePreview">
                      <!-- Content injected by JS -->
                    </div>
                  </div>
                </div>
                <!-- Section: Inputs -->
                <div class="mb-4">
                  <h6 class="fw-bold mb-3 text-uppercase small text-muted"><i class="bi bi-keyboard me-2"></i>Input Data
                  </h6>

                  <!-- Mode Selection -->
                  <div class="mb-3">
                    <label for="modeSelect" class="form-label small mb-1">Format</label>
                    <select class="form-select form-select-sm" id="modeSelect">
                      <option value="mfd_only">MFD Only</option>
                      <option value="mfd_exp">MFD + EXP</option>
                      <option value="mfd_exp_lot">MFD + EXP + LOT</option>
                      <option value="custom">Custom Text</option>
                    </select>
                  </div>

                  <!-- Date Inputs Group -->
                  <div id="dateInputs">
                    <div class="mb-3">
                      <label for="mfd" class="form-label small mb-1">MFD Date</label>
                      <input type="date" class="form-control form-control-sm" id="mfd">
                    </div>

                    <div class="mb-3" id="expGroup">
                      <label for="expYears" class="form-label small mb-1">Shelf Life</label>
                      <div class="input-group input-group-sm">
                        <select class="form-select" id="expYears">
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3" selected>3</option>
                          <option value="4">4</option>
                          <option value="5">5</option>
                        </select>
                        <span class="input-group-text">Years</span>
                      </div>
                    </div>

                    <div class="mb-3" id="lotGroup" style="display: none;">
                      <label for="lotNumber" class="form-label small mb-1">LOT Number เลือกครั้งที่ผลิตของเดือนนั้น
                        (1-99)</label>
                      <input type="text" class="form-control form-control-sm" id="lotNumber" inputmode="numeric"
                        pattern="[0-9]*" placeholder="e.g. 1" value="1">
                    </div>
                  </div>

                  <!-- Custom Text Inputs (Hidden by default) -->
                  <div id="customTextLabel" style="display:none;">
                    <div class="mb-3">
                      <label for="customLine1" class="form-label small mb-1">Line 1</label>
                      <input type="text" class="form-control form-control-sm" id="customLine1" maxlength="12"
                        placeholder="Max 12 chars">
                      <small class="text-muted d-block text-end" style="font-size:0.75em"><span id="counter1">0</span>/12</small>
                    </div>
                    <div class="mb-3">
                      <label for="customLine2" class="form-label small mb-1">Line 2</label>
                      <input type="text" class="form-control form-control-sm" id="customLine2" maxlength="12"
                        placeholder="Max 12 chars">
                      <small class="text-muted d-block text-end" style="font-size:0.75em"><span id="counter2">0</span>/12</small>
                    </div>
                    <div class="mb-3">
                      <label for="customLine3" class="form-label small mb-1">Line 3</label>
                      <input type="text" class="form-control form-control-sm" id="customLine3" maxlength="12"
                        placeholder="Max 12 chars">
                      <small class="text-muted d-block text-end" style="font-size:0.75em"><span id="counter3">0</span>/12</small>
                    </div>
                  </div>
                </div>

                <hr class="my-3 opacity-25">

                <!-- Section: Layout -->
                <div class="mb-4">
                  <h6 class="fw-bold mb-3 text-uppercase small text-muted"><i class="bi bi-palette me-2"></i>Layout</h6>

                  <!-- Font Family -->
                  <div class="mb-3">
                    <label for="fontSelect" class="form-label small mb-1">Font</label>
                    <select class="form-select form-select-sm" id="fontSelect">
                      <option value="helvetica" selected>Helvetica (Default)</option>
                      <option value="inter">Inter</option>
                      <option value="roboto">Roboto</option>
                      <option value="sf">SF Pro</option>
                      <option value="arial">Arial</option>
                    </select>
                  </div>

                  <!-- Font Weight -->
                  <div class="mb-3">
                    <label class="form-label small mb-1 d-block">Weight</label>
                    <div class="btn-group w-100" role="group" aria-label="Font Weight">
                      <input type="radio" class="btn-check" name="weight" id="weightRegular" value="regular"
                        autocomplete="off">
                      <label class="btn btn-outline-secondary btn-sm" for="weightRegular">Reg</label>

                      <input type="radio" class="btn-check" name="weight" id="weightSemibold" value="semibold"
                        autocomplete="off" checked>
                      <label class="btn btn-outline-secondary btn-sm" for="weightSemibold">Semi</label>

                      <input type="radio" class="btn-check" name="weight" id="weightBold" value="bold" autocomplete="off">
                      <label class="btn btn-outline-secondary btn-sm" for="weightBold">Bold</label>
                    </div>
                  </div>
                </div>



              </div>
              <!-- Removed Card Footer (Buttons moved to Header) -->
            </div>

            <!-- Removed Footer Info (Moved to Header) -->
          </div>

          <!-- Main: Preview -->
          <div class="col-lg-8 col-xl-9">
            <div class="d-flex justify-content-center rounded-3 preview-container-bg p-3 p-md-4">
              <div class="preview-wrapper w-100 d-flex justify-content-center">
                <div class="page shadow" id="pagePreview">
                  <div class="grid" id="grid"></div>
                </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer with Shopee and GitHub links -->
      <footer class="footer-main py-4 text-center bg-white border-top">
        <div class="container d-flex flex-column flex-md-row justify-content-center align-items-center gap-3">
          <a href="https://s.shopee.co.th/4q9xGEwwW8" target="_blank"
            class="btn btn-warning d-flex align-items-center gap-2 px-3 py-2" style="font-weight:500; min-width:120px;" title="สั่งซื้อสติกเกอร์ Click Label">
            <i class="bi bi-cart-fill"></i> <span>สั่งซื้อผ่าน Shopee</span>
          </a>
          <a href="https://github.com/pongsupavit/pongsupavit.github.io/tree/main/E248" target="_blank"
            class="btn btn-outline-dark d-flex align-items-center gap-2 px-3 py-2" style="font-weight:500; min-width:120px;" title="View on GitHub">
            <i class="bi bi-github"></i> <span>GitHub</span>
          </a>
        </div>
      </footer>
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="script.js"></script>
</body>

</html>